<!doctype html>
<html class="no-js" lang="">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- <link rel="apple-touch-icon" href="apple-touch-icon.png"> --->
    <!-- Place favicon.ico in the root directory -->
    <!--
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/main.css">
    <script src="js/vendor/modernizr-2.8.3.min.js"></script> -->
</head>

<body>
    <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

    <!-- Add your site or application content here -->
    <h1>HELLO WORLD</h1>
    {% for musician in musicians %}
    <div class="{{ musician.name }}">
      <span>{{ musician.name }}:</span>
      <span>
          <span class="{{ musician.name }}">{{ musician.likes }}</span> likes
      </span>
      <button class="like" type="button" name="button">Like</button>
      <button class="dislike" type="button" name="button">Dislike</button>
      <br/>
      <br/>
    </div>
    {% endfor %}

    <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
    <script>
        window.jQuery || document.write('<script src="js/vendor/jquery-1.12.0.min.js"><\/script>')
    </script>
    <!-- <script src="js/plugins.js"></script>
    <script src="js/main.js"></script> -->

    <script>
        $(document).ready(function() {
            $('.like').on('click', function(event) {
                musician_name = $(this).parent().attr('class');
                console.log("click worked, " + musician_name); //sanity check
                event.preventDefault();
                className = "span." + musician_name;
                console.log($(className).val()); //sanity check
                // post_to_server();
                $.ajax({
                    url: "/ajax/get-items/" + musician_name,
                    type: "get", // or "get"
                    data: 0, // idk man
                    success: function(data) {
                        console.log(data);
                        $(className).val(data);
                        console.log($(className).val());
                    }
                });
            });
        });
    </script>
</body>

</html>
